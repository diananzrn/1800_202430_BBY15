<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Favorites</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/style.css">
    <link rel="stylesheet" href="styles/favorite.css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" />
</head>

<body>
    <nav class="navbar navbar-expand navbar-dark" style="background-color: rgb(13, 173, 13);">
        <div class="container-fluid">
            <a class="navbar-brand" style="color: rgb(0, 87, 0);">My Favorites</a>
        </div>
    </nav>

    <main>
        <div class="container">
            <h2 class="mt-4">Your Favorite Stops</h2>
            <div id="favoritesList" class="list-group">
                <!-- Favorite stops will be populated here -->
                 <!-- could not get it to work with original design-->
            </div>
        </div>
    </main>

    <footer class="navbar navbar-expand navbar-dark fixed-bottom" style="background-color: rgb(13, 173, 13);">
        <div class="container-fluid justify-content-around">
            <a href="login.html" class="navbar-brand">
            <i class="fas fa-user-circle" style="color: rgb(0, 87, 0); scale: 1.8;"></i>
          <a href="home.html" class="navbar-brand">
            <i class="fas fa-home" style="color: rgb(0, 87, 0); scale: 1.8;"></i>
            <a href="favorites.html" class="navbar-brand">
                <i class="far fa-bookmark" style="color: rgb(0, 87, 0); scale: 1.8;"></i>
            </a>
        </div>
      </footer>

    <script>
        // Function to display favorite bus stops
        function displayFavorites() {
            const favoritesList = document.getElementById('favoritesList');
            const favorites = JSON.parse(localStorage.getItem('favorites')) || {};

            // Clear the existing list
            favoritesList.innerHTML = '';

            // Loop through favorites and create list items
            for (const stopId in favorites) {
                if (favorites.hasOwnProperty(stopId)) {
                    const title = favorites[stopId];

                    // Create a new list item
                    const listItem = document.createElement('a');
                    listItem.className = 'list-group-item list-group-item-action';
                    listItem.textContent = title;
                    listItem.href = `route.html?stopId=${stopId}`; // Link to route page with stop ID (still have to create it in the future)
                    favoritesList.appendChild(listItem);
                }
            }
        }

        // Call displayFavorites on DOMContentLoaded
        document.addEventListener('DOMContentLoaded', displayFavorites);
    </script>

</body>

</html>
